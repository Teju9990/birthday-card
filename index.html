<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Happy Birthday üéâ</title>

<style>
  body {
    margin: 0;
    font-family: 'Comic Sans MS', cursive;
    background: linear-gradient(to bottom, #ffd1dc, #fff);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100dvh;
    overflow: hidden;
    -webkit-tap-highlight-color: transparent;
  }

  .card {
    width: 270px;
    height: 180px;
    background: #ff4d6d;
    color: white;
    border-radius: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.3rem;
    animation: pulse 1.5s infinite;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
    text-align: center;
    padding: 20px;
    cursor: pointer;
    user-select: none;
    z-index: 2;
  }

  @keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
  }

  .message {
    display: none;
    background: white;
    width: 95%;
    max-width: 650px;
    padding: 30px;
    border-radius: 20px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
    color: #111;
    line-height: 1.8;
    max-height: 85dvh;
    overflow-y: auto;
    z-index: 2;
  }

  h1 {
    color: #ff2e63;
    text-align: center;
    margin-bottom: 15px;
    animation: glow 1.5s infinite alternate;
  }

  @keyframes glow {
    from { text-shadow: 0 0 5px #ff9aa2; }
    to { text-shadow: 0 0 15px #ff4d6d; }
  }

  .cake-symbol {
    font-size: 3rem;
    text-align: center;
    margin: 20px 0;
  }

  #textMessage p {
    margin-bottom: 16px;
    font-size: 1.05rem;
  }

  /* üéä CONFETTI */
  .confetti {
    position: fixed;
    width: 10px;
    height: 10px;
    background: red;
    top: 50%;
    left: 50%;
    animation: confettiFall 1.8s ease-out forwards;
    pointer-events: none;
    z-index: 1;
  }

  @keyframes confettiFall {
    0% {
      transform: translate(0, 0) rotate(0);
      opacity: 1;
    }
    100% {
      transform: translate(var(--x), var(--y)) rotate(720deg);
      opacity: 0;
    }
  }

  /* ‚ù§Ô∏è FALLING EMOJIS */
  .falling {
    position: fixed;
    top: -40px;
    font-size: 22px;
    animation: fall linear forwards;
    pointer-events: none;
  }

  @keyframes fall {
    to {
      transform: translateY(110dvh) rotate(360deg);
      opacity: 0;
    }
  }
</style>
</head>

<body>

<!-- üéµ Background Music -->
<audio id="bgMusic" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<div class="card" onclick="openCard()">
  üéÅ Tap to Open 
</div>

<div class="message" id="message">
  <h1>Happy Birthday babyy</h1>
  <div class="cake-symbol">üéÇ</div>
  <div id="textMessage"></div>
</div>

<script>
let opened = false;
const music = document.getElementById("bgMusic");

/* ‚è≥ Typing Speed */
const TYPE_SPEED = 55;
const LINE_DELAY = 1200;

const lines = [
  "This past year has been beautiful, and it‚Äôs all because of you. You‚Äôve made me stronger, braver, and happier just by being in my life. I truly see you for who you are‚Äîthe greatest cricket player, the best badminton player, the most sarcastic and funniest guy ever, and the strongest person I know who handles everything with a smile.",
  "I love the moments we play games together, sing our favorite songs, and even the quiet times when we don‚Äôt have anything to say. Just being by your side, sharing your company, means everything to me. I also love when you come to me after losing a match, complaining and acting like a baby‚Äîplease never stop coming to me like that. No matter what, I‚Äôll always be here for you, through every win and every loss.",
  "I wish you a birthday filled with happiness, success, love, and everything your heart deserves. Thank you for being you. Happy Birthday üí´üíô"
];

/* üéä CONFETTI BURST */
function poppers() {
  const colors = ["#ff4d6d", "#ffd166", "#06d6a0", "#4cc9f0", "#c77dff"];
  for (let i = 0; i < 80; i++) {
    const confetti = document.createElement("div");
    confetti.className = "confetti";
    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
    confetti.style.setProperty("--x", (Math.random() * 600 - 300) + "px");
    confetti.style.setProperty("--y", (Math.random() * 600 - 300) + "px");
    document.body.appendChild(confetti);
    setTimeout(() => confetti.remove(), 2000);
  }
}

function showMessage() {
  const box = document.getElementById("textMessage");
  let i = 0;

  function nextLine() {
    if (i >= lines.length) return;
    const p = document.createElement("p");
    box.appendChild(p);
    let j = 0;

    function typeChar() {
      if (j < lines[i].length) {
        p.textContent += lines[i][j++];
        box.scrollTop = box.scrollHeight;
        setTimeout(typeChar, TYPE_SPEED);
      } else {
        i++;
        setTimeout(nextLine, LINE_DELAY);
      }
    }
    typeChar();
  }

  nextLine();
}

function createFalling() {
  const emojis = ["‚ù§Ô∏è","üíñ","üíó","üíï","üíù","üéà","üå∏"];
  const el = document.createElement("div");
  el.className = "falling";
  el.textContent = emojis[Math.floor(Math.random() * emojis.length)];
  el.style.left = Math.random() * 100 + "vw";
  el.style.animationDuration = (3 + Math.random() * 3) + "s";
  document.body.appendChild(el);
  setTimeout(() => el.remove(), 6000);
}

function openCard() {
  if (opened) return;
  opened = true;

  // üéµ Play music
  music.volume = 0.6;
  music.play().catch(() => {});

  // üéä Popper burst
  poppers();

  document.querySelector(".card").style.display = "none";
  document.getElementById("message").style.display = "block";

  showMessage();
  setInterval(createFalling, 300);
}
</script>

</body>
</html>
